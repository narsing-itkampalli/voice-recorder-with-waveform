import { Icon } from "@iconify/react/dist/iconify.js";
import AudioPlayer from "./components/audio-player";
import { useState } from "react";
import VoiceRecorderModal from "./views/voice-recorder-modal";

export default function App() {
    const [showRecorderModal, setShowRecorderModal] = useState(false);

    return (
        <div className="flex h-screen overflow-auto flex-col justify-center">
            { showRecorderModal && <VoiceRecorderModal onDeleted={() => setShowRecorderModal(false)} /> }
            <div className="mb-[24px] flex justify-center flex-col gap-1 items-center">
                <button
                    className="size-[58px] rounded-full flex items-center justify-center bg-neutral-200 text-[26px] cursor-pointer hover:bg-neutral-300 transition-colors"
                    onClick={()=> setShowRecorderModal(true)}
                >
                    <Icon icon="material-symbols:keyboard-voice" />
                </button>
                <span className="text-[14px] text-neutral-600 mt-0.5">Start Voice Recording</span>
            </div>

            {/* ================================================ */}

            <div className="flex flex-col items-center text-center">
                <h1 className="text-3xl font-bold mb-3 max-sm:text-xl">Audio pre-parsed wave data</h1>
                <div className="flex gap-2 flex-wrap justify-center">
                    <AudioPlayer data={{
                        sources: [
                            { type: "audio/mp3", src: "/audio-1.wav" },
                        ],
                        duration: 1.622925, // In minutes
                        waveData: [0.0169677734375,0.554046630859375,0.85009765625,0.7705078125,0.7088229060173035,0.41552734375,0.225189208984375,0.128875732421875,0.03558458387851715,0.0147705078125,0.012787255458533764,0.007080078125,0.003326517529785633,0.003906369209289551,0.004394665360450745,0.00250244140625,0.002838134765625,0.0024414807558059692,0.0015869140625,0.0015564439818263054,0.00250244140625,0.002075258642435074,0.001708984375,0.00146484375,0.0017700735479593277,0.00177001953125,0.00567626953125,0.520538330078125,0.7347025871276855,0.790307343006134,0.569244384765625,0.4146728515625,0.306884765625,0.116058349609375,0.0638142004609108,0.02529984340071678,0.016205329447984695,0.00918607134371996,0.006042664870619774,0.004852294921875,0.004302978515625,0.003875732421875,0.003662109375,0.0025940733030438423,0.00213623046875,0.0013733329251408577,0.001373291015625,0.0008850367739796638,0.0007324442267417908,0.00030518509447574615,0.000152587890625,0.00009155552834272385],
                    }}/>
                    <AudioPlayer data={{
                        sources: [
                            { type: "audio/mp3", src: "/audio-2.m4a" },
                        ],
                        duration: 6.826563, // In seconds
                        waveData: [0.07979750633239746,0.029298871755599976,0.009293708018958569,0.012016496621072292,0.00782963540405035,0.5132107734680176,0.800361692905426,0.9470836520195007,0.7324186563491821,0.8342329263687134,0.5405957102775574,0.09896723181009293,0.008088326081633568,0.003625634592026472,0.002331345109269023,0.002265784190967679,0.0026340996846556664,0.005139477085322142,0.3329072594642639,0.2515890300273895,0.007549621630460024,0.005437315441668034,0.013875833712518215,0.009429284371435642,0.014851091429591179,0.013227966614067554,0.014665626920759678,0.08685285598039627,0.8978702425956726,0.6892168521881104,0.012449226342141628,0.005653918720781803,0.005639699287712574,0.030498027801513672,0.009671319276094437,0.009171457961201668,0.008463649079203606,0.07252702116966248,0.8750912547111511,0.8989902138710022,0.021542023867368698,0.009092073887586594,0.013389430940151215,0.009580944664776325,0.010907650925219059,0.010407901369035244,0.007449680007994175,0.008635650388896465,0.010891798883676529,0.007877113297581673,0.012304671108722687,0.010611110366880894],
                    }}/>
                    
                    <AudioPlayer data={{
                        sources: [
                            { type: "audio/mp3", src: "/audio-3.m4a" },
                        ],
                        duration: 104.907755, // 3 minutes
                        waveData: [0.15473239123821259,0.21952389180660248,0.23005296289920807,0.6091832518577576,0.5829779505729675,0.716231644153595,0.6205123662948608,0.5802785158157349,0.6173646450042725,0.619580090045929,0.6348680853843689,0.27274608612060547,0.21352805197238922,0.20492655038833618,0.7182657122612,0.6578649282455444,0.6027275919914246,0.6460676789283752,0.6841678619384766,0.7578415274620056,0.6200634241104126,0.6138179302215576,0.6278324723243713,0.6242427229881287,0.6387230157852173,0.6509819626808167,0.6008313894271851,0.21423830091953278,0.19671231508255005,0.08242880553007126,0.18947091698646545,0.7686731815338135,0.606574296951294,0.64718097448349,0.6531684398651123,0.5932540893554688,0.6285051703453064,0.5981446504592896,0.6083214282989502,0.7000676393508911,0.7120251655578613,0.6834157109260559,0.6427363157272339,0.6017236113548279,0.5674381256103516,0.6898954510688782,0.6378355026245117,0.6012324690818787,0.6134843230247498,0.6627177596092224,0.6969625949859619,0.6277977228164673],
                    }}/>
                </div>
            </div>
        </div>
    )
}